<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zamœlis Diksonri</title>
  <meta name="description" content="Jamalese Dictionary">

<style>
* {
  box-sizing: border-box;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

body {
  margin: 0;
  background: #f4f4f4;
  color: #222;
}

header {
  position: sticky;
  top: 0;
  background: #1e1e1e;
  color: white;
  padding: 1rem;
  z-index: 10;
}

header h1 {
  margin: 0 0 0.5rem 0;
}

header input {
  width: 100%;
  padding: 0.6rem;
  border-radius: 6px;
  border: none;
  font-size: 1rem;
}

  #top {
    position:sticky;
    top:0;
  }

#alphabet {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  padding: 0.8rem;
  background: #ddd;
  overflow-x: scroll;
  overflow-y: hidden;
}

#alphabet button {
  border: none;
  background: white;
  padding: 0.4rem 0.6rem;
  border-radius: 4px;
  cursor: pointer;
}

#alphabet button:hover {
  background: #bbb;
}

section {
  padding: 1rem;
}

section h2 {
  margin-bottom: 0.4rem;
  border-bottom: 2px solid #ccc;
}

.word {
  padding: 0.35rem 0;
}

.word strong {
  font-size: 1.05rem;
}
</style>
</head>

<body>
<div id="top">
<header
  <p>Zamœlis Diksonri<br>Newhouse Jamalese Dictionary</p>
  <input id="search" placeholder="Search Jamalese or English…">
</header>

<nav id="alphabet"></nav></div>
<main id="dictionary"></main>

  <script src="https://newhs.cc/words.js"></script>
<script>
// =====================
// JAMALESE ALPHABET
// =====================
const alphabet = ["a","b","d","f","g","h","i","k","l","m","n","o","œ","r","s","t","w","z"];


// =====================
// SORT + RENDER
// =====================
const rank = Object.fromEntries(alphabet.map((l,i)=>[l,i]));
dictionary.sort((a, b) => {
  const x = a[0].toLowerCase();
  const y = b[0].toLowerCase();
  for (let i = 0; i < Math.min(x.length, y.length); i++) {
    if (rank[x[i]] !== rank[y[i]]) {
      return (rank[x[i]] ?? 999) - (rank[y[i]] ?? 999);
    }
  }
  return x.length - y.length;
});

const dictEl = document.getElementById("dictionary");
const alphaEl = document.getElementById("alphabet");
const searchEl = document.getElementById("search");

alphabet.forEach(l=>{
  const b=document.createElement("button");
  b.textContent=l.toUpperCase();
  b.onclick=()=>document.getElementById("sec-"+l)?.scrollIntoView({behavior:"smooth"});
  alphaEl.appendChild(b);
});

function render(list){
  dictEl.innerHTML="";
  alphabet.forEach(l=>{
const group = list.filter(w => w[0].toLowerCase().startsWith(l));
    if(!group.length) return;
    const s=document.createElement("section");
    s.id="sec-"+l;
    s.innerHTML="<h2>"+l.toUpperCase()+"</h2>";
    group.forEach(w=>{
      s.innerHTML+=`<div class="word"><strong>${w[0]}</strong> — ${w[1]}</div>`;
    });
    dictEl.appendChild(s);
  });
}

searchEl.oninput=()=>{
  const q=searchEl.value.toLowerCase();
  render(dictionary.filter(w=>w[0].includes(q)||w[1].toLowerCase().includes(q)));
};

render(dictionary);
</script>

</body>
</html>
